# ğŸ® æ‹¯æ•‘Zackæ¸¸æˆ - æœåŠ¡å™¨ç«¯ç»Ÿè®¡ç³»ç»Ÿ

## ğŸ“‹ ç³»ç»Ÿæ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„æœåŠ¡å™¨ç«¯ç»Ÿè®¡ç³»ç»Ÿï¼Œç”¨äºæ”¶é›†å’Œåˆ†æ"æ‹¯æ•‘Zack"æ¸¸æˆçš„ç©å®¶æ•°æ®ã€‚ç³»ç»Ÿé‡‡ç”¨å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¶æ„ï¼Œæ‰€æœ‰ç»Ÿè®¡æ•°æ®éƒ½å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼Œåªæœ‰å¼€å‘è€…å¯ä»¥æŸ¥çœ‹ã€‚

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
æ¸¸æˆå®¢æˆ·ç«¯ (index.html)
    â†“ å‘é€ç»Ÿè®¡æ•°æ®
ç»Ÿè®¡æœåŠ¡å™¨ (stats_server.js)
    â†“ å­˜å‚¨æ•°æ®
æœ¬åœ°JSONæ–‡ä»¶ (server_stats.json)
    â†“ å¼€å‘è€…æŸ¥çœ‹
ç®¡ç†å‘˜é¢æ¿ (admin_dashboard.html)
```

## ğŸ“Š ç»Ÿè®¡æ•°æ®ç±»å‹

- **ğŸ‘¥ æ€»ç©å®¶æ•°**: è®¿é—®æ¸¸æˆçš„ç‹¬ç«‹ç”¨æˆ·æ•°
- **ğŸ® æ€»æ¸¸æˆæ¬¡æ•°**: æ¸¸æˆå¼€å§‹çš„æ€»æ¬¡æ•°
- **ğŸ† æ€»å…³å¡å®Œæˆæ•°**: æ‰€æœ‰å…³å¡å®Œæˆçš„æ€»æ¬¡æ•°
- **ğŸ—ï¸ æ€»é’¥åŒ™æ”¶é›†æ•°**: æ”¶é›†é’¥åŒ™çš„æ€»æ¬¡æ•°
- **ğŸ‘‘ æ€»CEOæ™‹å‡æ•°**: å®Œæˆæ¸¸æˆè·å¾—CEOç§°å·çš„æ¬¡æ•°
- **ğŸ“… æ¯æ—¥ç»Ÿè®¡**: æŒ‰æ—¥æœŸåˆ†ç»„çš„è¯¦ç»†æ•°æ®
- **ğŸ“ˆ å„å…³å¡ç»Ÿè®¡**: æ¯ä¸ªå…³å¡çš„å®Œæˆæ¬¡æ•°

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. å¯åŠ¨ç»Ÿè®¡æœåŠ¡å™¨

```bash
npm start
```

æœåŠ¡å™¨å°†åœ¨ `http://localhost:3001` å¯åŠ¨

### 3. è®¿é—®ç®¡ç†å‘˜é¢æ¿

æ‰“å¼€æµè§ˆå™¨è®¿é—®: `admin_dashboard.html`

ç®¡ç†å‘˜å¯†é’¥: `zack_admin_2024`

## ğŸ“ æ–‡ä»¶è¯´æ˜

### æ ¸å¿ƒæ–‡ä»¶

- **`stats_server.js`** - ç»Ÿè®¡æœåŠ¡å™¨ä¸»ç¨‹åº
- **`index.html`** - æ¸¸æˆä¸»æ–‡ä»¶ï¼ˆå·²é›†æˆç»Ÿè®¡ä»£ç ï¼‰
- **`admin_dashboard.html`** - å¼€å‘è€…ç»Ÿè®¡é¢æ¿
- **`package.json`** - Node.jsé¡¹ç›®é…ç½®
- **`server_stats.json`** - ç»Ÿè®¡æ•°æ®å­˜å‚¨æ–‡ä»¶ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰

### å¼€å‘å·¥å…·

- **`dev_stats.js`** - å‘½ä»¤è¡Œç»Ÿè®¡å·¥å…·
- **`STATS_SYSTEM_README.md`** - æœ¬è¯´æ˜æ–‡æ¡£

## ğŸ”§ å¼€å‘è€…ä½¿ç”¨æŒ‡å—

### å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨ç»Ÿè®¡æœåŠ¡å™¨
npm start

# æˆ–ä½¿ç”¨å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡å¯ï¼‰
npm run dev
```

### æŸ¥çœ‹ç»Ÿè®¡æ•°æ®

#### æ–¹æ³•1: ç½‘é¡µç®¡ç†é¢æ¿
1. æ‰“å¼€ `admin_dashboard.html`
2. è¾“å…¥ç®¡ç†å‘˜å¯†é’¥: `zack_admin_2024`
3. ç‚¹å‡»"æŸ¥çœ‹ç»Ÿè®¡æ•°æ®"

#### æ–¹æ³•2: å‘½ä»¤è¡Œå·¥å…·
```bash
# æŸ¥çœ‹ç»Ÿè®¡æ‘˜è¦
npm run stats show

# ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š
npm run stats report

# å¯¼å‡ºæ•°æ®åˆ°æ–‡ä»¶
npm run stats export stats_backup.json

# é‡ç½®æ‰€æœ‰æ•°æ®ï¼ˆéœ€è¦ç¡®è®¤ï¼‰
npm run stats reset --confirm
```

#### æ–¹æ³•3: APIç›´æ¥è®¿é—®
```bash
# è·å–ç»Ÿè®¡æ•°æ®
curl "http://localhost:3001/api/admin/stats?adminKey=zack_admin_2024"

# å¥åº·æ£€æŸ¥
curl "http://localhost:3001/health"
```

## ğŸ”’ å®‰å…¨æ€§è¯´æ˜

### æ•°æ®éšç§
- âœ… **å®Œå…¨åŒ¿å**: ä¸æ”¶é›†ä»»ä½•ä¸ªäººä¿¡æ¯
- âœ… **æ— è·Ÿè¸ª**: ä¸ä½¿ç”¨cookiesæˆ–æŒä¹…åŒ–æ ‡è¯†ç¬¦
- âœ… **æœ¬åœ°å­˜å‚¨**: æ•°æ®ä»…å­˜å‚¨åœ¨ä½ çš„æœåŠ¡å™¨ä¸Š
- âœ… **å¼€å‘è€…ä¸“ç”¨**: æ™®é€šç”¨æˆ·æ— æ³•çœ‹åˆ°ä»»ä½•ç»Ÿè®¡ä¿¡æ¯

### è®¿é—®æ§åˆ¶
- ğŸ” ç®¡ç†å‘˜å¯†é’¥ä¿æŠ¤
- ğŸ” ä»…å¼€å‘è€…å¯è®¿é—®ç»Ÿè®¡æ•°æ®
- ğŸ” æ¸¸æˆä½“éªŒä¸å—å½±å“ï¼ˆé™é»˜æ”¶é›†ï¼‰

## ğŸ“ˆ APIæ¥å£æ–‡æ¡£

### ç»Ÿè®¡æ”¶é›†æ¥å£

#### æ–°ç©å®¶è®¿é—®
```http
POST /api/stats/new-player
Content-Type: application/json

{}
```

#### æ¸¸æˆå¼€å§‹
```http
POST /api/stats/game-start
Content-Type: application/json

{
  "sessionId": "session_id_here"
}
```

#### å…³å¡å®Œæˆ
```http
POST /api/stats/level-complete
Content-Type: application/json

{
  "sessionId": "session_id_here",
  "level": 1
}
```

#### é’¥åŒ™æ”¶é›†
```http
POST /api/stats/key-collected
Content-Type: application/json

{
  "sessionId": "session_id_here"
}
```

#### CEOæ™‹å‡
```http
POST /api/stats/ceo-promotion
Content-Type: application/json

{
  "sessionId": "session_id_here"
}
```

### ç®¡ç†å‘˜æ¥å£

#### è·å–ç»Ÿè®¡æ•°æ®
```http
GET /api/admin/stats?adminKey=zack_admin_2024
```

#### é‡ç½®ç»Ÿè®¡æ•°æ®
```http
POST /api/admin/reset-stats
Content-Type: application/json

{
  "adminKey": "zack_admin_2024"
}
```

## ğŸ› ï¸ éƒ¨ç½²è¯´æ˜

### æœ¬åœ°å¼€å‘
```bash
npm start
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### ä½¿ç”¨PM2
```bash
npm install -g pm2
pm2 start stats_server.js --name "zack-stats"
pm2 save
pm2 startup
```

#### ä½¿ç”¨Docker
```dockerfile
FROM node:16-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install --production
COPY . .
EXPOSE 3001
CMD ["npm", "start"]
```

#### ç¯å¢ƒå˜é‡
```bash
# è®¾ç½®ç«¯å£
export PORT=3001

# è®¾ç½®ç®¡ç†å‘˜å¯†é’¥
export ADMIN_KEY=your_secure_key_here
```

## ğŸ”§ é…ç½®é€‰é¡¹

### æœåŠ¡å™¨é…ç½®
åœ¨ `stats_server.js` ä¸­ä¿®æ”¹ï¼š

```javascript
const PORT = process.env.PORT || 3001;
const ADMIN_KEY = process.env.ADMIN_KEY || 'zack_admin_2024';
```

### å®¢æˆ·ç«¯é…ç½®
åœ¨ `index.html` ä¸­ä¿®æ”¹ï¼š

```javascript
const gameStats = {
    statsServerUrl: 'http://localhost:3001', // ä¿®æ”¹ä¸ºä½ çš„æœåŠ¡å™¨åœ°å€
    // ...
};
```

## ğŸ“Š æ•°æ®æ ¼å¼è¯´æ˜

### ç»Ÿè®¡æ•°æ®ç»“æ„
```json
{
  "totalPlayers": 0,
  "totalGames": 0,
  "totalLevelsCompleted": 0,
  "totalKeysCollected": 0,
  "totalCEOPromotions": 0,
  "dailyStats": {
    "2024-01-01": {
      "players": 5,
      "games": 8,
      "levels": 25
    }
  },
  "levelStats": {
    "1": 10,
    "2": 8,
    "3": 6,
    "4": 4,
    "5": 3,
    "6": 2,
    "7": 2,
    "8": 1,
    "9": 1,
    "10": 1
  },
  "sessions": [
    {
      "sessionId": "1234567890_abc123",
      "startTime": "2024-01-01T12:00:00.000Z",
      "userAgent": "Mozilla/5.0...",
      "ip": "127.0.0.1"
    }
  ],
  "lastUpdated": "2024-01-01T12:00:00.000Z"
}
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æœåŠ¡å™¨æ— æ³•å¯åŠ¨
```bash
# æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
lsof -i :3001

# æ›´æ¢ç«¯å£
PORT=3002 npm start
```

#### 2. æ¸¸æˆæ— æ³•è¿æ¥ç»Ÿè®¡æœåŠ¡å™¨
- ç¡®ä¿æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
- ç¡®è®¤å®¢æˆ·ç«¯é…ç½®çš„æœåŠ¡å™¨åœ°å€æ­£ç¡®

#### 3. ç®¡ç†å‘˜é¢æ¿æ— æ³•è®¿é—®
- æ£€æŸ¥ç®¡ç†å‘˜å¯†é’¥æ˜¯å¦æ­£ç¡®
- ç¡®è®¤æœåŠ¡å™¨å¥åº·æ£€æŸ¥é€šè¿‡
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

#### 4. æ•°æ®ä¸¢å¤±
- æ£€æŸ¥ `server_stats.json` æ–‡ä»¶æƒé™
- ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´
- æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—

### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—
npm start

# ä½¿ç”¨PM2æŸ¥çœ‹æ—¥å¿—
pm2 logs zack-stats
```

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-01-01)
- âœ… åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ… åŸºç¡€ç»Ÿè®¡åŠŸèƒ½
- âœ… ç®¡ç†å‘˜é¢æ¿
- âœ… APIæ¥å£
- âœ… å®‰å…¨æ€§ä¿æŠ¤

## ğŸ¤ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

1. **æœåŠ¡å™¨çŠ¶æ€**: `curl http://localhost:3001/health`
2. **æ—¥å¿—ä¿¡æ¯**: æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º
3. **ç½‘ç»œè¿æ¥**: ç¡®ä¿å®¢æˆ·ç«¯èƒ½è®¿é—®æœåŠ¡å™¨
4. **æƒé™è®¾ç½®**: ç¡®ä¿æ–‡ä»¶è¯»å†™æƒé™æ­£ç¡®

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ LICENSE æ–‡ä»¶

---

**ğŸ® äº«å—æ¸¸æˆå¼€å‘çš„ä¹è¶£ï¼** 